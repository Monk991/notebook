
### 定义

```dart
enum NetType {MOCK, DIO}

class Injector{

  static final Injector _singleton = new Injector._internal();

  Injector._internal();

  static NetType _netType;

  static void configure(NetType netType ) {
    _netType = netType;
  }

  factory Injector() {
    return _singleton;
  }

  HiNetAdapter get currentNetClient { 
     switch (_flavor) {
      case Flavor.MOCK:
        return MockAdapter();
      case Flavor.DIO:
        return DioAdapter();
      default:
        return MockAdapter();
    }
  }

}
```

* main.dart

```dart
Future<void> main() async {

  Injector.configure(Flavor.MOCK, DataMode.JSON);

  runApp(ConfigPage());
}
```


### 使用

```dart
class HomeProvider implements IHomeProvider {
    HiNetAdapter _client;

    HomeProvider() {
        _client = Injector().currentNetClient;
    }
}
```