## 使用同一个client

* server/db/index.js

```js
import {PrismaClient} from '@prisma/client'

const prisma = new PrismaClient();

export { prisma };

```

* server/db/user.js

```js
import { prisma } from ".";

export const getUserById = (id) => {
  return prisma.user.findUnique({
    where: {
      id
    }
  });
};
```

* server/api/user.get.js

```js
import { getUserById } from "../db/users";

export default defineEventHandler(async (event) => {

  const user = await getUserById(1);
  
  return {
    data: user
  };
});

```

### [验证](http://localhost:3000/api/user)